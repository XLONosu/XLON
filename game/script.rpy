init:

    ###Character
    define dg = Character('Саня', color="#6b3700")
    define tn = Character('Тян', color="#ff0000")
    define jn = Character('Женщина', color="#bc0000")
    define dez = Character('Валентин', color="#803c00")
    define al = Character('Алиса', color ="#bc0000")
    define ul = Character('Луиза', color = "#0008b0")
    define zr = Character('Рандомный Зритель', color = "#ff0000")
    define gl = Character('Странный Голос', color = "#00aeff")
    define mk = Character('Микуя', color = "#00aeff")
    define br = Character('Бармен', color = "#0006ff")
    define mn = Character('Монстрата', color = "#b74b2b")
    define xd = Character('Иксдем', color = "ff00ae")
    define unk = Character('???', color = "72bd57")
    define dz = Character('Дизик', color = "0000ff")
    define st = Character('Сотаркс', color = "00e31b")
    define ar = Character('Артём', color = "ff0000")
    define bog = Character('Богдан', color = "fc05ff")
    define rb = Character('Работник больницы', color = "6a6a6a")
    define ppy = Character('Пеппи', color = "bf1515")
    define na = Character('Наруто', color = "c0be00")
    define chi = Character('Чика', color = "f49be4")
    define ta = Character('Талала', color = "ff0000")
    define co = Character('Сокиец', color = "285641")
    define bmc = Character('Бисттрол', color = "008aff")
    define ra = Character('Рафис', color = "001eff")
    define al = Character('Алюметри', color = "ba0909")
    define all = Character('Все',color = "ab09ba")
    define ob = Character('Обучение', color = "00900a")
    define an = Character('Анонс', color = "142e18")
    define va = Character('Вайфочка', color = "baac50")
    define uch = Character('Учитель', color = "7b1da7")


    ###BG
    image bg dom_diggera = "images/BG/dom_diggera.png"
    image bg dom_diggera_kuhnya = "images/BG/dom_diggera_kuhnya.png"
    image bg ulica = "images/BG/ulica.png"
    image bg podezd = "images/BG/podezd.png"
    image bg sport_master = "images/BG/sport_master.png"
    image bg pochta = "images/BG/pochta.png"
    image bg pochta_vnutri = "images/BG/pochta_vnutri.png"
    image bg magaz = "images/BG/magaz.png"
    image bg nachalo = "images/BG/nachalo.png"
    image bg les = "images/BG/chashya_lesa.png"
    image bg nalevo = "images/BG/nalevo.png"
    image bg napravo = "images/BG/napravo.png"
    image bg napravo_v_dome = "images/BG/napravo_v_dome.png"
    image bg lom = "images/BG/les_otkritaya_mestnost.png"
    image bg dom_magaz = "images/BG/dom_magaz.png"
    image bg dom_magaz_vnutri = "images/BG/dom_magaz_vnutri.png"
    image bg v_lesu = "images/BG/v_lesu.png"
    image bg derevnya = "images/BG/derevnya.png"
    image bg white = "images/BG/white.jpg"
    image bg winter_house = "images/BG/winter_house.png"
    image bg derevnya_vihod = "images/BG/derevnya_vihod.png"
    image bg zima = "images/BG/zima.png"
    image bg castle = "images/BG/castle.png"
    image bg incastle1 = "images/BG/incastle1.png"
    image bg incastle1_1 = "images/BG/incastle1_1.png"
    image bg incastle1_2 = "images/BG/incastle1_2.png"
    image bg incastle2 = "images/BG/incastle2.png"
    image bg incastle2_1 = "images/BG/incastle2_1.png"
    image bg incastle3 = "images/BG/incastle3.png"
    image bg incastle3_1 = "images/BG/incastle3_1.png"
    image bg incastle4 = "images/BG/incastle4.png"
    image bg incastle4_1 = "images/BG/incastle4_1.png"
    image bg relaxroom = "images/BG/relaxroom.png"
    image bg dizickroom = "images/BG/dizickroom.png"
    image bg v_lesu_domik = "images/BG/v_lesu_domik.png"
    image bg dom = "images/BG/dom.png"
    image bg domin = "images/BG/domin.png"
    image bg domin_kitchen = "images/BG/domin_kitchen.png"
    image bg domin_cherdak = "images/BG/domin_cherdak.png"
    image bg dom_zadniy_dvor = "images/BG/dom_zadniy_dvor.png"
    image bg talala_house = "images/BG/talala_house.png"
    image bg zaveti1 = "images/BG/zaveti1.png"
    image bg zaveti2 = "images/BG/zaveti2.png"
    image bg zaveti3 = "images/BG/zaveti3.png"
    image bg ramenclub = "images/BG/ramenclub.png"
    image bg ramenclub_in = "images/BG/ramenclub_in.png"
    image bg hospital = "images/BG/hospital.png"
    image bg konoha1 = "images/BG/konoha1.png"
    image bg konoha2 = "images/BG/konoha2.png"
    image bg ramen = "images/BG/ramen.png"
    image bg cyberpank = "images/BG/cyberpank.png"
    image bg ronpa_dininghall = "images/BG/danganronpa/ronpa_dininghall.png"
    image bg ronpa_room = "images/BG/danganronpa/ronpa_room.png"
    image bg ronpa_entrance = "images/BG/danganronpa/ronpa_entrance.png"
    image bg ronpa_pregym = "images/BG/danganronpa/ronpa_pregym.png"
    image bg ronpa_gym = "images/BG/danganronpa/ronpa_gym.png"
    image bg ronpa_shop = "images/BG/danganronpa/ronpa_shop.png"
    image bg koridor1 = "images/BG/danganronpa/koridor1.png"
    image bg koridor2 = "images/BG/danganronpa/koridor2.png"
    image bg ronpa_bath = "images/BG/danganronpa/ronpa_bath.png"
    image bg ronpa_cinema = "images/BG/danganronpa/ronpa_cinema.png"
    image bg ronpa_laundry = "images/BG/danganronpa/ronpa_laundry.png"
    image bg ronpa_storage = "images/BG/danganronpa/ronpa_storage.png"
    image bg ronpa_trash = "images/BG/danganronpa/ronpa_trash.png"
    image bg ronpa_sroom = "images/BG/danganronpa/ronpa_sroom.png"
    image bg ronpa_aroom = "images/BG/danganronpa/ronpa_aroom.png"
    image bg ronpa_sroom_in = "images/BG/danganronpa/ronpa_sroom_in.png"
    image bg koridor3 = "images/BG/danganronpa/koridor3.png"
    image bg ronpa_toilet = "images/BG/danganronpa/ronpa_toilet.png"
    image bg alumetri_murder = "images/BG/danganronpa/alumetri_murder.png"
    image bg ronpa_trash1 = "images/BG/danganronpa/ronpa_trash1.png"
    image bg ronpa_trash2 = "images/BG/danganronpa/ronpa_trash2.png"
    image bg ronpa_kitchen1 = "images/BG/danganronpa/ronpa_kitchen1.png"
    image bg ronpa_elevator = "images/BG/danganronpa/ronpa_elevator.png"
    image bg trial_room = "images/BG/danganronpa/trial_room.png"
    image bg koridor4 = "images/BG/danganronpa/koridor4.png"
    image bg ronpa_library = "images/BG/danganronpa/ronpa_library.png"
    image bg ronpa_prepool = "images/BG/danganronpa/ronpa_rreswpool.png"
    image bg ronpa_medlab = "images/BG/danganronpa/ronpa_medlab.png"
    image bg ronpa_lockerroom = "images/BG/danganronpa/ronpa_lockerroom.png"
    image bg ronpa_pool = "images/BG/danganronpa/ronpa_pool.png"
    image bg ronpa_class = "images/BG/danganronpa/ronpa_class.png"
    image bg sky =  im.MatrixColor("images/BG/sky.png", im.matrix.colorize(("#000000"), "#757677"))
    image bg school = im.MatrixColor("images/BG/school.png", im.matrix.colorize(("#000000"), "e19760"))
    image bg vokzal = im.MatrixColor("images/BG/vokzal.png", im.matrix.colorize(("#000000"), "e19760"))
    image bg ronpa_dizroom = "images/BG/danganronpa/ronpa_dizroom.png"
    image bg bmc_murder = "images/BG/danganronpa/bmc_murder.png"
    image bg ronpa_gym1 = "images/BG/danganronpa/ronpa_gym1.png"
    image bg table = "images/table.png"
    image bg table1 = "images/table1.png"
    image bg ronpa_gameroom = "images/BG/danganronpa/ronpa_gameroom.png"
    image bg ronpa_izo = "images/BG/danganronpa/ronpa_izo.png"
    image bg ronpa_computer = "images/BG/danganronpa/ronpa_computer.png"
    image bg koridor5 = "images/BG/danganronpa/koridor5.png"
    image bg ronpa_bogRoom = "images/BG/danganronpa/ronpa_bogRoom.png"
    image bg ronpa_room1 = "images/BG/danganronpa/ronpa_room1.png"
    image bg monstrata_murder = "images/BG/danganronpa/monstrata_murder.png"
    image bg ronpa_entrance1 = "images/BG/danganronpa/ronpa_entrance1.png"
    image bg circle = "images/BG/circle.png"

    ###ClassTrial
    image ct trialroom1 = "images/classtrial/trialroom1.png"
    image ct trialroomk = "images/classtrial/trialroomkuma.png"
    image ct trialroom = "images/classtrial/trialroom.png"
    image ct end1 = "images/classtrial/end1.png"
    image ct trialroomk1 = "images/classtrial/trialroomkuma1.png"
    image ct trialroom1_1 = "images/classtrial/trialroom1_1.png"
    image ct end2 = "images/classtrial/end2.png"
    image ct dance = "images/classtrial/dance.png"
    image ct trialroomk2 = "images/classtrial/trialroomkuma2.png"
    image ct trialroom2 = "images/classtrial/trialroom2.png"
    image ct trialroom2_1 = "images/classtrial/trialroom2_1.png"

    ###CHAPTER
    image ch chapter1 = "images/chapter/chapter1.png"
    image ch chapter2 = "images/chapter/chapter2.png"
    image ch chapter3 = "images/chapter/chapter3.png"
    image ch chapter4 = "images/chapter/chapter4.png"
    image ch chapter4_1 = "images/chapter/chapter4_1.png"
    image ch chapter4_2 = "images/chapter/chapter4_2.png"
    image ch chapter5 = "images/chapter/chapter5.png"
    image ch chapter6 = "images/chapter/chapter6.png"
    image ch chapter7 = "images/chapter/chapter7.png"



    ###CG
    image cg holodilnik = "images/CG/holodilnik.png"
    image cg shlem = "images/CG/shlem.png"
    image cg ojidanie = "images/CG/ojidanie.png"
    image cg bad_end_puje = "images/CG/bad_end_puje.png"
    image cg to_be_cont = "images/CG/to_be_cont.png"
    image cg map = "images/CG/map.png"
    image cg zagruzka = "images/CG/zagruzka.png"
    image cg bumaga = "images/CG/bumaga.png"
    image cg m_weapon = "images/CG/monstrata's_weapon.png"
    image cg balerina = "images/CG/balerina.png"
    image cg pencil = "images/CG/pencil.png"
    image cg sledi = "images/CG/sledi.png"
    image cg flashback = "images/CG/flashback.png"
    image cg ronpa = "images/CG/ronpa.png"
    image cg map1 = "images/CG/map1.png"
    image cg map2 = "images/CG/map2.png"
    image cg cookiezi = "images/CG/introduce/cookiezi.png"
    image cg rafis = "images/CG/introduce/rafis.png"
    image cg alumetri = "images/CG/introduce/alumetri.png"
    image cg bogdik = "images/CG/introduce/bogdik.png"
    image cg bmc = "images/CG/introduce/BeasttrollMC.png"
    image cg Bogdik = "images/CG/introduce/Bogdik.png"
    image cg monstrata = "images/CG/introduce/monstrata.png"
    image cg talala = "images/CG/introduce/talala.png"
    image cg dizick = "images/CG/introduce/dizick.png"
    image cg ppy = "images/CG/introduce/ppy.png"
    image cg sotarks = "images/CG/introduce/sotarks.png"
    image cg FireDigger = "images/CG/introduce/FireDigger.png"
    image cg announce = "images/CG/announce.png"
    image cg xdem_gym = "images/CG/xdem_gym.png"
    image cg free_time = "images/CG/free_time.png"
    image cg fake_murder = "images/CG/fake_murder.png"
    image cg motive1 = "images/CG/motive1.png"
    image cg investigation = "images/CG/investigation.png"
    image cg knife = "images/CG/knife.png"
    image cg keyy = "images/CG/key.png"
    image cg vokzal_nya = "images/CG/vokzal_nya.png"
    image cg clue = "images/CG/clue.png"
    image cg clue1 = "images/CG/clue1.png"
    image cg clue2 = "images/CG/clue2.png"
    image cg clue3 = "images/CG/clue3.png"
    image cg clue4 = "images/CG/clue4.png"
    image cg glitch = "images/CG/glitch.png"
    image cg monstrata_wtf = "images/CG/monstrata_wtf.png"
    image cg nsf = "images/CG/nsf.png"
    image cg clue5 = "images/CG/clue5.png"
    image cg clue6 = "images/CG/clue6.png"
    image cg clue7 = "images/CG/clue7.png"

    ###Спрайты
    image sprite police = "images/sprite/police.png"
    image sprite makar = "images/sprite/makar.png"
    image sprite jepa = "images/sprite/jepa.png"
    image sprite pudje = "images/sprite/pudje.png"
    image sprite skeleton = "images/sprite/skeleton.png"
    image sprite boss = "images/sprite/boss.png"
    image sprite barmen = "images/sprite/barmen.png"
    image sprite monstrata = "images/sprite/monstrata.png"
    image sprite shiori = "images/sprite/shiori.png"
    image sprite xdemkuma = "images/sprite/xdemkuma.png"
    image sprite sotarks = "images/sprite/sotarks.png"
    image sprite dark_sotarks = "images/sprite/dark_sotarks.png"
    image sprite belka = "images/sprite/belka.png"
    image sprite unknown = "images/sprite/unknown.png"
    image sprite ppy = "images/sprite/ppy.png"
    image sprite naruto = "images/sprite/naruto.png"
    image sprite kaneki = "images/sprite/kaneki.png"
    image sprite chika = "images/sprite/chika.png"
    image sprite_r rafis = "images/sprite/rafis.png"
    image sprite_b bmc = "images/sprite/bmc.png"
    image sprite_bb bogdik = "images/sprite/bogdan.png"
    image sprite_t talala = "images/sprite/talala.png"
    image sprite_s sotarks = "images/sprite/ronpa_sotarks.png"
    image sprite_a alumetri = "images/sprite/alumetri.png"
    image sprite_d dizick = "images/sprite/dizick.png"
    image sprite_c cookiezi = "images/sprite/cookiezi.png"
    image sprite vayfochka = "images/sprite/vayfochka.png"
    image sprite_t talala_sc = "images/sprite/talala_sc.png"
    image sprite_dig digger = "images/sprite/digger.png"
    image sprite_m monstrata = "images/sprite/monstrata_small.png"
    image sprite_bb bogdik ken = "images/sprite/bogdan_ken.png"

    ###MUSIC
    define normal = "music/music/normal.mp3"
    define investgation = "music/music/investigation.mp3"
    define battle = "music/music/battle.mp3"
    define despair = "music/music/despair.mp3"
    define despair2 = "music/music/despair2.mp3"
    define despair3 = "music/music/despair3.mp3"
    define despair4 = "music/music/despair4.mp3"
    define monokuma = "music/music/monokuma.mp3"
    define nonstop = "music/music/nonstop.mp3"
    define trial = "music/music/trial.mp3"
    define trial1 = "music/music/trial1.mp3"
    define trial2 = "music/music/trial2.mp3"
    define trialend = "music/music/trialend.mp3"
    define true = "music/music/true.mp3"
    define ussual = "music/music/ussual.mp3"
    define ussual1 = "music/music/ussual1.mp3"
    define wut = "music/music/wut.mp3"
    define scare = "music/music/scare.mp3"
    define scare2 = "music/music/scare2.mp3"
    define fight = "music/music/fight.mp3"
    define fight2 = "music/music/fight2.mp3"
    define fight3 = "music/music/fight3.mp3"
    define Dubstep = "music/music/Dubstep.mp3"
    define sad = "music/music/sad.mp3"
    define puzzle = "music/music/puzzle.mp3"
    define goodbye = "music/music/goodbye.mp3"

    ##SOUND
    define bass = "music/sound/bass.mp3"
    define announce = "music/sound/announce.mp3"
    define punch = "music/sound/punch.mp3"
    define rustle = "music/sound/rustle.mp3"

    define config.hard_rollback_limit = 0

    ###Переменные
    $ samoocenka = 80 ###Процентов
    $ tyan = False
    $ money = 0
    $ miku = False
    $ help_1 = False
    $ help_2 = False
    $ karta = False
    $ health = 100
    $ monstrata = False
    $ weapon = False
    $ lvl_up = False
    $ monstrata_rip = False

    $ trap = False
    $ armor = False
    $ sword = False
    $ gun = False

    $ dizick_alive = True

    $ digger_health = 0
    $ dizick_health = 70


    $free_time = 0


    #relationhip
    $ talalar = 0
    $ alumetrir = 0
    $ cookiezir = 0
    $ bmcr = 0
    $ rafisr = 0
    $ sotarksr = 0
    $ dizickr = 0
    $ cor = 0
    $ bogdanr = 0

    #school
    $ gym = False
    $ shop = False
    $ shopc = 0
    $ cinema = False
    $ dinning = False
    $ droom = False
    $ storage = False
    $ trash= False
    $ bath = False
    $ laundry = False
    $ lobby = False
    $ medlab = False
    $ library = False
    $ pool = False
    $ game = False
    $ izo = False
    $ comp = False
    $ FFloor = False


    ###shop
    $ dizick1 = 0
    $ dizick2 = 0
    $ talala1 = 0
    $ talala2 = 0
    $ bmc1 = 0
    $ bmc2 = 0
    $ rafis1 = 0
    $ rafis2 = 0
    $ sotarks1 = 0
    $ sotarks2 = 0
    $ alumetri1 = 0
    $ alumetri2 = 0
    $ cookiezi1 = 0
    $ cookiezi2 = 0
    $ bogdan1 = 0
    $ bogdan2 = 0

    $ ft_max = 2
    $ ft_number = 1

    $ investigation = 0

    $money_trial = 0

    $glava = 0

    $ hideb = True

    $hp = 5
    $task = 0
    $ digger = ["Пошёл нахуй","Тупое чмо","У тебя мать сдохла","Ты уёбище","Наху ты свой рот открыл?","Сын шлюхи","Уебан","Даун","Аутист","Чмо","Сын говна","Тварь","Долбоёб","Пидарас","Блядина","Сын суки"]
    $ puzzle_number = 1

    $ game_end = False

    ###Эфекты
    $ flash = Fade(.25, 0, .75, color="#fff")
    $ flash_end = Fade(.99, 0, .75, color="#ed0588")
    $ dissolve = Dissolve(0.25)

    transform txt_up:
        yalign 1.5
        linear 15.0 yalign -1.5

screen cash:

    add"images/cash.png":
            align(.02,.01)
    text":[money]":
            align(.13,.03)
            color"#fffc00"
            size(100)

screen imagemap1:
    imagemap:
        ground "images/CG/map1.png"
        hover "images/hover.png"
        hotspot (458, 521, 119, 119) clicked Return("gym")
        hotspot (1508, 192, 147, 155) clicked Return("dormitory")
        hotspot (949, 902, 195, 119) clicked Return("lobby")
        hotspot (1020, 587, 57, 54) clicked Return("shop")
        hotspot (1175, 742, 270, 129) clicked Return("cinema")
        hotspot (1326, 367, 118, 123) clicked Return("classA")
        hotspot (1326, 521, 118, 119) clicked Return("classB")
        hotspot (799, 672, 117, 119) clicked Return("MedLab")
        hotspot (235, 797, 80, 90) clicked Return("2F")
screen imagemap2:
    imagemap:
        if glava == 7:
            ground "images/CG/map2_2.png"
        if glava == 6:
            ground "images/CG/map2_1.png"
        if glava == 5:
            ground "images/CG/map2.png"
        hover "images/hover.png"
        hotspot (1020, 614, 75, 144) clicked Return("dRoom")
        if glava != 7:
            hotspot (1020, 380, 75, 139) clicked Return("rRoom")
            hotspot (1527, 210, 143, 70) clicked Return("bRoom")
        hotspot (1526, 309, 143, 75) clicked Return("tRoom")
        if glava != 6 and glava != 7:
            hotspot (1526, 414, 143, 72) clicked Return("aRoom")
            hotspot (1124, 615, 72, 143) clicked Return("sRoom")
        hotspot (1525, 513, 144, 73) clicked Return("cRoom")
        hotspot (987, 75, 375, 104) clicked Return("trash")
        hotspot (345, 787, 238, 238) clicked Return("dinning")
        hotspot (718, 820, 104, 206) clicked Return("storage")
        hotspot (751, 347, 72, 105) clicked Return("laundry")
        hotspot (579, 142, 109, 242) clicked Return("bath")
        hotspot (152, 499, 179, 119) clicked Return("school")
        if glava == 6 or glava == 7:
            hotspot (1224, 614, 73, 145) clicked Return("dizRoom")
        if glava == 7:
            hotspot (1124, 380, 71, 140) clicked Return("bogRoom")
screen imagemap3:
    imagemap:
        ground "images/CG/map3.png"
        hover "images/hover.png"
        hotspot (463, 582, 85, 85) clicked Return("Pool")
        hotspot (888, 639, 480, 198) clicked Return("Library")
        hotspot (770, 559, 100, 63) clicked Return("3F")
        hotspot (374, 862, 70, 82) clicked Return("1F")
        hotspot (1454, 923, 85, 87) clicked Return("ClassC")
        hotspot (548, 866, 87, 86) clicked Return("ClassD")
screen imagemap4:
    imagemap:
        ground "images/CG/map4.png"
        hover "images/hover.png"
        hotspot (485, 81, 99, 97) clicked Return("ClassE")
        hotspot (485, 207, 97, 88) clicked Return("ClassF")
        hotspot (802, 177, 110, 73) clicked Return("2F")
        hotspot (391, 412, 67, 95) clicked Return("4F")
        hotspot (810, 383, 98, 93) clicked Return("gRoom")
        hotspot (1194, 444, 164, 333) clicked Return("izo")
        hotspot (420, 685, 164, 213) clicked Return("computer")
screen osu_shop:
    imagemap:
        ground "images/CG/osu_shop.png"
        hover "images/hover.png"
        hotspot (148, 87, 441, 163) clicked Return("Dizick1")
        hotspot (608, 121, 133, 126) clicked Return("Dizick2")
        hotspot (142, 351, 140, 125) clicked Return("Talala1")
        hotspot (605, 336, 133, 130) clicked Return("Talala2")
        hotspot (152, 563, 118, 125) clicked Return("bmc1")
        hotspot (604, 563, 136, 121) clicked Return("bmc2")
        hotspot (153, 752, 92, 143) clicked Return("rafis1")
        hotspot (605, 771, 132, 130) clicked Return("rafis2")
        hotspot (1051, 69, 64, 178) clicked Return("sotarks1")
        hotspot (1418, 117, 130, 122) clicked Return("sotarks2")
        hotspot (1055, 334, 137, 130) clicked Return("alumetri1")
        hotspot (1419, 341, 129, 121) clicked Return("alumetri2")
        hotspot (1048, 544, 144, 146) clicked Return("cookiezi1")
        hotspot (1418, 565, 130, 122) clicked Return("cookiezi2")
        hotspot (1054, 755, 119, 138) clicked Return("???1")
        hotspot (1414, 776, 139, 119) clicked Return("???2")
        hotspot (1462, 1010, 456, 68) clicked Return("back")
screen true_false:
    imagemap:
        ground "images/CG/true_false.png"
        hover "images/hover.png"
        hotspot (0, 0, 891, 100) clicked Return("true")
        hotspot (1003, 0, 920, 100) clicked Return("false")
screen clue_list:
    imagemap:
        ground "images/CG/clue_list.png"
        hover "images/hover.png"
        hotspot (392, 37, 254, 255) clicked Return(1)
        hotspot (392, 406, 254, 255) clicked Return(2)
        hotspot (392, 783, 254, 255) clicked Return(3)



screen qte_simple:
    #key input qte
    timer interval repeat True action If(time_start > 0.0, true=SetVariable('time_start', time_start - interval), false=[Return(0), Hide('qte_simple')])
    # timer, using variables from label qte_setup
    # false is the condition if the timer runs out - and this will be reached if the user doesn't get hit the key on time
    key trigger_key action ( Return(1) )
    # the "key detector" (ends qte_event by returning 1)
    vbox:
        xalign x_align
        yalign y_align
        spacing 25
        # vbox arrangement
        text trigger_key:
            xalign 0.5
            color "#fff"
            size 36
            #outlines [ (2,"#000000",0,0) ]
            # text showing the key to press

        text "[qw]":
            color "#fff"

        bar:
            value time_start
            range time_max
            xalign 0.5
            xmaximum 300
label qte_setup(time_start, time_max, interval, trigger_key, x_align, y_align):
    $ qw = renpy.random.choice(digger)
    $ time_start = time_start
    $ time_max = time_max
    $ interval = interval
    $ trigger_key = trigger_key
    $ x_align = x_align
    $ y_align = y_align
    call screen qte_simple
    $ cont = _return
    if (cont == 0):
        $ hp -= 1
    else:
        $task +=1
    return

    #$ cont = 5
    #$ arr_keys = ["q","w","e","r","t","y","u","i","o","p"]
    #$ qw = renpy.random.choice(digger)
    #call qte_setup(0.5, 1.0, 0.01, renpy.random.choice(arr_keys), renpy.random.randint(1, 9) * 0.1, renpy.random.randint(1, 9) * 0.1)
    #while (task != 5):
    #    if (hp == 0):
    #        "Game over."
    #    call qte_setup(0.5, 2.5, 0.01, renpy.random.choice(arr_keys), renpy.random.randint(1, 9) * 0.1, renpy.random.randint(1, 9) * 0.1)
    #"Win"



label puzzle:

    if puzzle_number == 1 or puzzle_number == 3:
        scene bg table
    if puzzle_number == 2:
        scene bg table1

    python:
        k = Puzzle()
        k.set_sensitive(False)
        k.show()


label continue:

    hide dim
    hide eileen
    with dissolve

label quick_continue:

    while True:

        python:

            k.set_sensitive(True)
            event = k.interact()

            if event:
                renpy.checkpoint()

            k.set_sensitive(False)
        # e "[event]"
        if event == "win":
            jump win


label win:
    pause(1)
    if puzzle_number == 1:
        jump bogdik_intro
    if puzzle_number == 2:
        jump ct2_end
    if puzzle_number == 3:
        jump last_thing
    python:
        k = Puzzle()
        k.sensitive = False
        k.show()
    jump continue
